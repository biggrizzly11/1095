var User = require('../models/UserModel');
var pdffiller = require('pdffiller');

module.exports = {

	get1095: function(req, res) {
		User.findById(req.params.id).populate({path: 'emp', select: 'name address city state zip ssn planstartmonth box14all box14feb box14jan box14mar box14apr box14may box14june box14july box14aug box14sept box14oct box14nov box14dec'}).exec( function(err1, res1) {
			var comp = res1;
			console.log("Comp", comp);
			// console.log("Req.body" + req.body);
			var compName = res1.compName;
			console.log("Company Name: " + comp.name);


			// var empName = (res1).populate({path: 'emp', select: 'name'});
			var name = res1.emp[0].name;
			// var address = res1.emp[0].address;
			// console.log('empName: ' + res1.emp[0].name);
			// console.log('Company Name' + res1.compName);
			for (var i = 0; i < res1.emp.length; i++) {
				var emp = comp.emp[i];
				var address = comp.emp[i].address;
				// console.log('Social Number: ' + emp.address);
				console.log('box 14: ' + emp.box14mar);			

			var data = {
						'nameofemp': emp.name,
						'SSN': emp.ssn,
						'nameofcomp': comp.name,
						'EIN': res1.ein,
						'empAdress': emp.address,
						'compAddress': comp.address,
						'compphone': comp.phone,
						'empcity': emp.city,
						'state': emp.state,
						'zip': emp.zip,
						'compcity': comp.city,
						'compState': comp.state,
						'compzip': comp.zip,
						'startmonth': emp.planstartmonth,
						'14all': emp.box14all,
						'14feb': emp.box14feb,
						'14jan': emp.box14jan,
						'14mar': emp.box14mar,
						'14apr': emp.box14apr,
						'14may': emp.box14may,
						'14june': emp.box14june,
						'14july': emp.box14july,
						'14aug': emp.box14aug,
						'14sept': emp.box14sept,
						'14oct': emp.box14oct,
						'14nov': emp.box14nov,
						'14dec': emp.box14dec,
						'16all': emp.box16all,
						'16jan': emp.box16jan,
						'16feb': emp.box16feb,
						'16mar': emp.box16mar,
						'16apr': emp.box16apr,
						'16may': emp.box16may,
						'16june': emp.box16june,
						'16july': emp.box16july,
						'16aug': emp.box16aug,
						'16sept': emp.box16sept,
						'16oct': emp.box16oct,
						'16nov': emp.box16nov,
						'16dec': emp.box16dec,
						'15all': emp.box15all,
						'15feb': emp.box15feb,
						'15jan': emp.box15jan,
						'15june': emp.box15june,
						'15mar': emp.box15mar,
						'15apr': emp.box15apr,
						'15may': emp.box15may,
						'15july': emp.box15july,
						'15aug': emp.box15aug,
						'15sept': emp.box15sept,
						'15oct': emp.box15oct,
						'15nov': emp.box15nov,
						'15dec': emp.box15dec,
						'coveredIndiividualsX': emp.coveredIndiividualsX,
						'17name': emp.box17aname,
						'18name': emp.box18aname,
						'19name': emp.box19aname,
						'20name': emp.box20aname,
						'21name': emp.box21aname,
						'2name': emp.box22aname,
						'17ssn': emp.box17bssn,
						'18ssn': emp.box18bssn,
						'19ssn': '',
						'20ssn': '',
						'21ssn': '',
						'22ssn': '',
						'17dob': '',
						'18dob': '',
						'19dob': '',
						'20dob': '',
						'21dob': '',
						'22dob': '',
						'17decX': '',
						'17novX': '',
						'17octX': '',
						'17septX': '',
						'17augX': '',
						'17julyX': '',
						'17juneX': '',
						'17mayX': '',
						'17aprX': '',
						'17mar': '',
						'17febX': '',
						'17janX': '',
						'17allX': '',
						'18allX': '',
						'18janX': '',
						'18febX': '',
						'18mar': '',
						'18aprX': '',
						'18mayX': '',
						'18juneX': '',
						'18julyX': '',
						'18augX': '',
						'18septX': '',
						'18octX': '',
						'18novX': '',
						'18decX': '',
						'19allX': '',
						'19janX': '',
						'19febX': '',
						'19mar': '',
						'19aprX': '',
						'19mayX': '',
						'19juneX': '',
						'19julyX': '',
						'19augX': '',
						'19septX': '',
						'19octX': '',
						'19novX': '',
						'19decX': '',
						'20allX': '',
						'20janX': '',
						'20febX': '',
						'20mar': '',
						'20aprX': '',
						'20mayX': '',
						'20juneX': '',
						'20julyX': '',
						'20augX': '',
						'20septX': '',
						'20octX': '',
						'20novX': '',
						'20decX': '',
						'21allX': '',
						'21janX': '',
						'21febX': '',
						'21mar': '',
						'21aprX': '',
						'21mayX': '',
						'21juneX': '',
						'21julyX': '',
						'21augX': '',
						'21septX': '',
						'21octX': '',
						'21novX': '',
						'21decX': '',
						'22allX': '',
						'22janX': '',
						'22febX': '',
						'22mar': '',
						'22aprX': '',
						'22mayX': '',
						'22juneX': '',
						'22julyX': '',
						'22augX': '',
						'22septX': '',
						'22octX': '',
						'22novX': '',
						'22decX': '',
						'partIIIname': '',
						'partIIIssn': '',
						'23name': '',
						'23ssn': '',
						'23dob': '',
						'23all': '',
						'23jan': '',
						'23feb': '',
						'23mar': '',
						'23apr': '',
						'23may': '',
						'23jun': '',
						'23jul': '',
						'23aug': '',
						'23sept': '',
						'23oct': '',
						'23nov': '',
						'23dec': '',
						'24name': '',
						'24ssn': '',
						'24dob': '',
						'24all': '',
						'24jan': '',
						'24feb': '',
						'24mar': '',
						'24apr': '',
						'24may': '',
						'24jun': '',
						'24jul': '',
						'24aug': '',
						'24sept': '',
						'24oct': '',
						'24nov': '',
						'24dec': '',
						'25dec': '',
						'25nov': '',
						'25oct': '',
						'25sept': '',
						'25aug': '',
						'25jul': '',
						'25jun': '',
						'25may': '',
						'25apr': '',
						'25mar': '',
						'25feb': '',
						'25jan': '',
						'25all': '',
						'25dob': '',
						'25ssn': '',
						'25name': '',
						'26name': '',
						'26ssn': '',
						'26dob': '',
						'26all': '',
						'26jan': '',
						'26feb': '',
						'26mar': '',
						'26apr': '',
						'26may': '',
						'26jun': '',
						'26jul': '',
						'26aug': '',
						'26sept': '',
						'26oct': '',
						'26nov': '',
						'26dec': '',
						'27dec': '',
						'27nov': '',
						'27oct': '',
						'27sept': '',
						'27aug': '',
						'27jul': '',
						'27jun': '',
						'27may': '',
						'27apr': '',
						'27mar': '',
						'27feb': '',
						'27jan': '',
						'27all': '',
						'27dob': '',
						'27ssn': '',
						'27name': '',
						'28name': '',
						'28ssn': '',
						'28dob': '',
						'28all': '',
						'28jan': '',
						'28feb': '',
						'28mar': '',
						'28apr': '',
						'28may': '',
						'28jun': '',
						'28jul': '',
						'28aug': '',
						'28sept': '',
						'28oct': '',
						'28nov': '',
						'28dec': '',
						'29dec': '',
						'29nov': '',
						'29oct': '',
						'29sept': '',
						'29aug': '',
						'29jul': '',
						'29jun': '',
						'29may': '',
						'29apr': '',
						'29mar': '',
						'29feb': '',
						'29jan': '',
						'29all': '',
						'29dob': '',
						'29ssn': '',
						'29name': '',
						'30name': '',
						'30ssn': '',
						'30dob': '',
						'30all': '',
						'30jan': '',
						'30feb': '',
						'30mar': '',
						'30apr': '',
						'30may': '',
						'30jun': '',
						'30jul': '',
						'30aug': '',
						'30sept': '',
						'30oct': '',
						'30nov': '',
						'30dec': '',
						'31dec': '',
						'31nov': '',
						'31oct': '',
						'31sept': '',
						'31aug': '',
						'31jul': '',
						'31jun': '',
						'31may': '',
						'31apr': '',
						'31mar': '',
						'31feb': '',
						'31jan': '',
						'31all': '',
						'31dob': '',
						'31ssn': '',
						'31name': '',
						'32name': '',
						'32ssn': '',
						'32dob': '',
						'32all': '',
						'32jan': '',
						'32feb': '',
						'32mar': '',
						'32apr': '',
						'32may': '',
						'32jun': '',
						'32jul': '',
						'32aug': '',
						'32sept': '',
						'32oct': '',
						'32nov': '',
						'32dec': '',
						'33dec': '',
						'33nov': '',
						'33oct': '',
						'33sept': '',
						'33aug': '',
						'33jul': '',
						'33jun': '',
						'33may': '',
						'33apr': '',
						'33mar': '',
						'33feb': '',
						'33jan': '',
						'33all': '',
						'33dob': '',
						'33ssn': '',
						'33name': '',
						'34name': '',
						'34ssn': '',
						'34dob': '',
						'34all': '',
						'34jan': '',
						'34feb': '',
						'34mar': '',
						'34apr': '',
						'34may': '',
						'34jun': '',
						'34jul': '',
						'34aug': '',
						'34sept': '',
						'34oct': '',
						'34nov': '',
						'34dec': '',
						};

			var sourcePdf = 'f1095c.pdf';
			var desPdf = 'public/styles/pdf/f1095'+ res1.emp[i]._id + '.pdf';
			pdffiller.fillForm(sourcePdf, desPdf, data, function(err) {

				}); 

			}

		});
	}

};







// var data = {
// 'EIN36': '',
// '51': '',
// 'EIN37': '',
// '52': '',
// 'EIN38': '',
// '53': '',
// 'EIN39': '',
// '54': '',
// 'EIN40': '',
// '55': '',
// 'EIN41': '',
// '56': '',
// 'EIN42': '',
// '57': '',
// 'EIN43': '',
// '58': '',
// 'EIN44': '',
// '59': '',
// 'EIN45': '',
// '60': '',
// 'EIN46': '',
// '61': '',
// 'EIN47': '',
// '62': '',
// 'EIN48': '',
// '63': '',
// 'EIN49': '',
// '64': '',
// 'EIN50': '',
// '65': '',
// '1_1': '',
// '1_2': '',
// '1_3': '',
// '1_4': '',
// '1_5': '',
// '1_6': '',
// '1_7': '',
// '1_8': '',
// '1_9': '',
// '1_10': '',
// '1_11': '',
// '1_12': '',
// '1_13': '',
// '1_14': '',
// '1_15': '',
// '1_16': '',
// '1_18': '',
// '1_17': '',
// 'Text132': '',
// '2_21_yes': '',
// '2_21_no': '',
// '2_22_a': '',
// '2_22_B': '',
// '2_22_c': '',
// '2_22_d': '',
// '3_23_yes': '',
// '3_23_no': '',
// '23d': '',
// '24d': '',
// '25d': '',
// '26d': '',
// '27d': '',
// '28d': '',
// '29d': '',
// '30d': '',
// '31d': '',
// '32d': '',
// '33d': '',
// '34d': '',
// '35d': '',
// '23b': '',
// '23c': '',
// '23e': '',
// '3_24_yes': '',
// '3_24_no': '',
// '24b': '',
// '24c': '',
// '24e': '',
// '3_25_yes': '',
// '3_25_no': '',
// '25b': '',
// '25c': '',
// '25e': '',
// '3_26_yes': '',
// '3_26_no': '',
// '26b': '',
// '26c': '',
// '26e': '',
// '3_27_yes': '',
// '3_27_no': '',
// '27b': '',
// '27c': '',
// '27e': '',
// '3_28_yes': '',
// '3_28_no': '',
// '28b': '',
// '28c': '',
// '28e': '',
// '3_29_yes': '',
// '3_29_no': '',
// '29b': '',
// '29c': '',
// '29e': '',
// '3_30_yes': '',
// '3_30_no': '',
// '30b': '',
// '30c': '',
// '30e': '',
// '3_31_yes': '',
// '3_31_no': '',
// '31b': '',
// '31c': '',
// '31e': '',
// '3_32_yes': '',
// '3_32_no': '',
// '32b': '',
// '32c': '',
// '32e': '',
// '3_33_yes': '',
// '3_33_no': '',
// '33b': '',
// '33c': '',
// '33e': '',
// '3_34_yes': '',
// '3_34_no': '',
// '34b': '',
// '34c': '',
// '34e': '',
// '3_35_yes': '',
// '3_35_no': '',
// '35b': '',
// '35c': '',
// '35e': '',
// 'corrected': '',
// }
